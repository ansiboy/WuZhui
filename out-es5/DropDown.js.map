{"version":3,"sources":["../out/DropDown.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","DropDown","params","element","errors","argumentNull","dataSource","argumentFieldNull","init","select","r","dataItems","forEach","dataItem","option","document","createElement","name","nameField","valueField","innerHTML","appendChild","Control"],"mappings":"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","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Control } from \"./Control\";\r\nimport { Errors as errors } from \"./Errors\";\r\nexport class DropDown extends Control {\r\n    constructor(params) {\r\n        super(params.element);\r\n        if (params == null)\r\n            throw errors.argumentNull('params');\r\n        if (params.dataSource == null)\r\n            throw errors.argumentFieldNull('params', 'dataSource');\r\n        if (params.element == null)\r\n            throw errors.argumentFieldNull('params', 'element');\r\n        this.init(params);\r\n    }\r\n    init(params) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let r = yield params.dataSource.select({});\r\n            r.dataItems.forEach(dataItem => {\r\n                let option = document.createElement('option');\r\n                let name = params.nameField ? dataItem[params.nameField] : dataItem;\r\n                let value = params.valueField ? dataItem[params.valueField] : dataItem;\r\n                if (name == null)\r\n                    name = '';\r\n                if (value == null)\r\n                    value = '';\r\n                option.innerHTML = name;\r\n                option.value = value;\r\n                this.element.appendChild(option);\r\n            });\r\n        });\r\n    }\r\n}\r\n"],"file":"DropDown.js"}