{"version":3,"sources":["../out/DropDown.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","define","require","exports","Control_1","Errors_1","Object","defineProperty","DropDown","params","element","Errors","argumentNull","dataSource","argumentFieldNull","init","select","r","dataItems","forEach","dataItem","option","document","createElement","name","nameField","valueField","innerHTML","appendChild","Control"],"mappings":"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","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\ndefine([\"require\", \"exports\", \"./Control\", \"./Errors\"], function (require, exports, Control_1, Errors_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    class DropDown extends Control_1.Control {\n        constructor(params) {\n            super(params.element);\n            if (params == null)\n                throw Errors_1.Errors.argumentNull('params');\n            if (params.dataSource == null)\n                throw Errors_1.Errors.argumentFieldNull('params', 'dataSource');\n            if (params.element == null)\n                throw Errors_1.Errors.argumentFieldNull('params', 'element');\n            this.init(params);\n        }\n        init(params) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let r = yield params.dataSource.select({});\n                r.dataItems.forEach(dataItem => {\n                    let option = document.createElement('option');\n                    let name = params.nameField ? dataItem[params.nameField] : dataItem;\n                    let value = params.valueField ? dataItem[params.valueField] : dataItem;\n                    if (name == null)\n                        name = '';\n                    if (value == null)\n                        value = '';\n                    option.innerHTML = name;\n                    option.value = value;\n                    this.element.appendChild(option);\n                });\n            });\n        }\n    }\n    exports.DropDown = DropDown;\n});\n"],"file":"DropDown.js"}