{"version":3,"sources":["../../out/fields/GridViewEditableCell.js"],"names":["define","require","exports","DataControlField_1","Errors_1","Utility_1","Object","defineProperty","value","GridViewEditableCell","field","dataItem","Errors","argumentNull","dataField","nullText","dataFormatString","_field","_dataItem","_mode","readOnly","render","element","innerHTML","createControl","console","assert","control","applyStyle","controlStyle","appendChild","GridViewDataCell"],"mappings":"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","sourcesContent":["define([\"require\", \"exports\", \"./DataControlField\", \"../Errors\", \"../Utility\"], function (require, exports, DataControlField_1, Errors_1, Utility_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class GridViewEditableCell extends DataControlField_1.GridViewDataCell {\r\n        constructor(field, dataItem) {\r\n            if (field == null)\r\n                throw Errors_1.Errors.argumentNull('field');\r\n            if (dataItem == null)\r\n                throw Errors_1.Errors.argumentNull('dataItem');\r\n            super({\r\n                dataField: field.dataField,\r\n                nullText: field.nullText, dataFormatString: field.dataFormatString\r\n            });\r\n            this._field = field;\r\n            this._dataItem = dataItem;\r\n            this._mode = 'read';\r\n        }\r\n        get dataItem() {\r\n            return this._dataItem;\r\n        }\r\n        get field() {\r\n            return this._field;\r\n        }\r\n        get mode() {\r\n            return this._mode;\r\n        }\r\n        beginEdit() {\r\n            if (this._field.readOnly) {\r\n                return;\r\n            }\r\n            this._mode = 'edit';\r\n            this.render(this._dataItem);\r\n        }\r\n        endEdit() {\r\n            if (this._field.readOnly) {\r\n                return;\r\n            }\r\n            this._mode = 'read';\r\n            this.render(this._dataItem);\r\n        }\r\n        cancelEdit() {\r\n            if (this._field.readOnly) {\r\n                return;\r\n            }\r\n            this._mode = 'read';\r\n            this.render(this._dataItem);\r\n        }\r\n        render(dataItem) {\r\n            if (this._mode == 'edit') {\r\n                this.element.innerHTML = \"\";\r\n                this.createControl();\r\n                console.assert(this.control != null);\r\n                let value = dataItem[this.field.dataField];\r\n                this.control.value = value;\r\n                Utility_1.applyStyle(this.control.element, this._field.controlStyle);\r\n                this.element.appendChild(this.control.element);\r\n                return;\r\n            }\r\n            this.control = null;\r\n            super.render(dataItem);\r\n        }\r\n        createControl() {\r\n            this.control = this.field.createControl();\r\n            return this.control.element;\r\n        }\r\n        get controlValue() {\r\n            if (this.control == null)\r\n                return null;\r\n            return this.control.value;\r\n        }\r\n    }\r\n    exports.GridViewEditableCell = GridViewEditableCell;\r\n});\r\n"],"file":"GridViewEditableCell.js"}